<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajax 1 : 개념정리</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="./main.css">    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js" integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>
    <script defer src="./main.js"></script>
</head>

<body>

    <div class="card-group container">
        <div class="card">
            <img src="https://via.placeholder.com/600">
            <div class="card-body">
                <h5>Card title</h5>
                <p>가격 : 70000</p>
                <button class="btn btn-danger">주문하기</button>
            </div>
        </div>
        <div class="card">
            <img src="https://via.placeholder.com/600">
            <div class="card-body">
                <h5>Card title</h5>
                <p>가격 : 70000</p>
                <button class="btn btn-danger">주문하기</button>
            </div>
        </div>
        <div class="card">
            <img src="https://via.placeholder.com/600">
            <div class="card-body">
                <h5>Card title</h5>
                <p>가격 : 70000</p>
                <button class="btn btn-danger">주문하기</button>
            </div>
        </div>
    </div>
</body>
</html>
<!-- 
    DAY 08-1

    서버와 데이터 주고 받는 법

    서버란? 
    데이터를 달라고 요청하면 데이터를 보내주는 프로그램 모두를 서버라고 함.
    유저     ---- (웹툰 줘) ---▶    네이버 웹툰 서버
    유저     ◀--- (웹툰 보내줌) ----   네이버 웹툰 서버

    유저     ---- (동영상 줘) ---▶    유튜브 서버
    유저     ◀--- (동영상 보내줌) ----   유튜브 서버

    [서버 코드] 
    누가 이미지 요청하면 이미지 주셈
    누가 html 요청하면 html 주셈
    ....

    1. 어떤 데이터를 달라고 할지 ( 데이터의 url )
    2. 어떤 방법으로 요청할건지 ( GET인지 POST인지 )
    잘 기재해야 데이터 줌

    유저     ---- (웹툰 줘) ---▶    네이버 웹툰 서버
    유저     ◀--- (웹툰 보내줌) ----   네이버 웹툰 서버
    1. 데이터의 url 기재해야함(comic.naver.com)
    2. GET인지 POST인지 둘 중하나 선택해야함
    - GET 데이터를 읽고 싶을 때
    - POST 데이터를 보내고 싶을 때
    => comic.naver.com으로 GET요청한다
    유저     ---- (comic.naver.com으로 GET요청한다) ---▶    네이버 웹툰 서버
    유저     ◀--- (웹툰 보내줌) ----   네이버 웹툰 서버

    특정 url로  GET으로 요청하는 법?
    주소검색창에 치면 됨.
    특정 url로  POST로 요청하는 법?
    <form action="/sdfsdc" method="post">

    </form>

    서버는 데이터 보내주는 역할만 하는게 아니라 가끔가다 유저의 데이터를 DB에 저장하기도 함. 그래서 POST요청도 가끔 가다 유용하게  쓰이기도 함.(댓글입력, 블로그 글쓰기 이런거 다 POST요청) 
    유저가 서버에 데이터 보내려면 거의 POST요청 필요!!
    GET, POST요청의 단점
    - GET, POST요청하면 브라우저 새로고침 됨

    ajax가 뭐냐면 새로고침 없이!!! GET, POST 요청하는 기능
    ex) 상품 더보기 누르면 밑으로 데이터 받아와서 추가해줌.

    ajax로 GET요청하는 법 : $.get('url~~~~')
    - html 파일 이렇게 미리보기 띄워야 ajax 사용 가능
    - 127.0.0.1 어쩌고 아니면 localhost 떠있어야  함

    ajax로 POST요청하는 법 : $.post('url~~~~')

    ajax 요청이 실패할 때
    - url을 잘못입력했을 때
    - 인터넷이 끊겼을 때
    실패시 특정코드 실행하고 싶으면 뒤에 fail(function(){}) 적으면 실패했을때 fail안의 콜백함수가 실행됨.

    404 error는 url주소가 이상하다는 뜻


    바닐라 js 에서도 ajax 가능한데 fetch 씀!

    (참고) 서버와 유저는 문자자룜나 주고받을 수 있음.

    
    object, array 데이터 보내고  싶으면 따옴표쳐서 문자처럼 만들어야함"{"price" : 5000}" // <= 이런 따옴표 친 object, array 자료를 json 이라고 함. 단점은 문자기 때문에 원하는 자료만 뽑아쓰기 어려움 그래서 json 자료를 다시 object나 array로 바꾸는 기능을 .then(res => res.ddddd) 요롷세 적어줌 일반 문자로 쓰고 싶으면 삭제해도 됨.

    but $.get (jquery 방식) 얘는 json -> object 자동변환해줌

    ajax 말고도 axios 있음. 뷰나 리액트에서 자주 쓰게 될거다.

    //ajax로 GET요청하는 법
    //$.get('url~~~~')
    //$.get('https://codingapple1.github.io/hello.txt') //이라고 불러오지만 숨겨져 있음
    //done(function(){}) : 다 불러오고 나서 실행할 함수
    //$.get('https://codingapple1.github.io/hello.txt').done(function(){
    //    console.log('done')
    //})
    //숨겨진 데이터는 어디에 저장 되어잇냐  => 파라미터에!
    $.get('https://codingapple1.github.io/hello.txt').done(function(data){
        console.log(data) //'안녕하세요 반갑습니다요.'   
    })

    // url을 잘못입력하거나 인터넷이 끊겼거나 하면 ajax요청이 실패할 수도 있음.
    //실패시 특정코드 실행하고 싶으면 fail(function(){}) 적으면 실패했을때 fail안의 콜백함수가 실행됨
    $.get('https://codingapple1.github.io/hello.txt').done(function(data){
        console.log(data) //'안녕하세요 반갑습니다요.'   
    }).fail(function () {
        console.log('실패함!')
    })

    $.get('https://codingapple1.github.io/price.json').done(function (data) { 
        //console.log(data.price)
        console.log(data)
    }).fail(function () {
        console.log('실패함!')
    })

    // ajax로 POST요청하는 법
    // $.post('url~~~~')
    // 보낼 데이터를 두번째 파라미터에!
    //post 요청을 처리해줄 서버가 없기 때문에 일단 post 주석으로 하고 get으로 해봄
    //$.post('https://codingapple1.github.io/hello.txt', {name : 'kim'}).//done(function(data){
    //    console.log(data) //'안녕하세요 반갑습니다요.'
    //})


    //js
    //fetch써도 ajax가능
    fetch('https://codingapple1.github.io/price.json').then(res => res.json()).then(data => {
            console.log(data)
        }).catch(error => { 
            console.log(error)
        })


    






-->